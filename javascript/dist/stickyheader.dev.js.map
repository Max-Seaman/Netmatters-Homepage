{"version":3,"sources":["stickyheader.js"],"names":["$originalHeader","$","headerHeight","outerHeight","$fixedClone","lastScroll","window","scrollTop","createClone","clone","addClass","appendTo","cloneMenu","find","console","log","addEventListener","menuIsOpen","classList","contains","menuAnimation","removeClass","removeClone","remove","on","currentScroll","hasClass","setTimeout","mainContent","originalMenu","click"],"mappings":";;AACA,IAAMA,eAAe,GAAGC,CAAC,CAAC,gBAAD,CAAzB;AACA,IAAMC,YAAY,GAAGF,eAAe,CAACG,WAAhB,EAArB;AACA,IAAIC,WAAW,GAAG,IAAlB;AACA,IAAIC,UAAU,GAAGJ,CAAC,CAACK,MAAD,CAAD,CAAUC,SAAV,EAAjB;;AAEA,SAASC,WAAT,GAAuB;AACnBJ,EAAAA,WAAW,GAAGJ,eAAe,CAACS,KAAhB,GAAwBC,QAAxB,CAAiC,oBAAjC,EAAuDC,QAAvD,CAAgE,MAAhE,CAAd;AAEA,MAAMC,SAAS,GAAGR,WAAW,CAACS,IAAZ,CAAiB,OAAjB,EAA0B,CAA1B,CAAlB,CAHmB,CAG6B;;AAChDC,EAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AACAA,EAAAA,SAAS,CAACI,gBAAV,CAA2B,OAA3B,EAAoC,YAAM;AACtC,QAAMC,UAAU,GAAGL,SAAS,CAACM,SAAV,CAAoBC,QAApB,CAA6B,MAA7B,CAAnB;AAEAC,IAAAA,aAAa,CAACR,SAAD,CAAb;;AAEA,QAAI,CAACK,UAAL,EAAiB;AACb;AACAb,MAAAA,WAAW,CAACM,QAAZ,CAAqB,cAArB;AACH,KAHD,MAGO;AACH;AACAN,MAAAA,WAAW,CAACiB,WAAZ,CAAwB,cAAxB;AACH;AACJ,GAZD;AAaH;;AAED,SAASC,WAAT,GAAuB;AACnB,MAAIlB,WAAJ,EAAiB;AACbA,IAAAA,WAAW,CAACmB,MAAZ;AACAnB,IAAAA,WAAW,GAAG,IAAd;AACH;AACJ;;AAEDH,CAAC,CAACK,MAAD,CAAD,CAAUkB,EAAV,CAAa,QAAb,EAAuB,YAAW;AAC9B,MAAMC,aAAa,GAAGxB,CAAC,CAAC,IAAD,CAAD,CAAQM,SAAR,EAAtB;;AAEA,MAAIkB,aAAa,GAAGvB,YAApB,EAAkC;AAC9B;AACA,QAAI,CAACE,WAAL,EAAkB;AACdI,MAAAA,WAAW;AACd;;AAED,QAAIiB,aAAa,GAAGpB,UAApB,EAAgC;AAC5B;AACA,UAAI,CAACD,WAAW,CAACsB,QAAZ,CAAqB,QAArB,CAAL,EAAqC;AACjCtB,QAAAA,WAAW,CAACM,QAAZ,CAAqB,QAArB;AACH;AACJ,KALD,MAKO;AACH;AACA,UAAIN,WAAW,CAACsB,QAAZ,CAAqB,QAArB,CAAJ,EAAoC;AAChCC,QAAAA,UAAU,CAAC,YAAM;AACbvB,UAAAA,WAAW,CAACiB,WAAZ,CAAwB,QAAxB;AACH,SAFS,EAEP,EAFO,CAAV;AAGH;AACJ;AACJ,GAnBD,MAmBO;AACH;AACA;AACA,QAAII,aAAa,IAAI,CAArB,EAAwB;AACpBH,MAAAA,WAAW;AACd,KAFD,CAGA;AAHA,SAIK,IAAIlB,WAAW,IAAIA,WAAW,CAACsB,QAAZ,CAAqB,QAArB,CAAnB,EAAmD;AACpD;AACAtB,QAAAA,WAAW,CAACiB,WAAZ,CAAwB,QAAxB;AACH;AACJ;;AAEDhB,EAAAA,UAAU,GAAGoB,aAAb;AACH,CApCD,E,CAuCA;;AACAG,WAAW,CAACZ,gBAAZ,CAA6B,OAA7B,EAAsC,YAAM;AACxC,MAAIa,YAAY,CAACX,SAAb,CAAuBC,QAAvB,CAAgC,MAAhC,CAAJ,EAA6C;AACzC;AACAU,IAAAA,YAAY,CAACC,KAAb;AACH,GAHD,MAGO,IAAI1B,WAAW,IAAIA,WAAW,CAACS,IAAZ,CAAiB,OAAjB,EAA0B,CAA1B,EAA6BK,SAA7B,CAAuCC,QAAvC,CAAgD,MAAhD,CAAnB,EAA4E;AAC/Ef,IAAAA,WAAW,CAACS,IAAZ,CAAiB,OAAjB,EAA0B,CAA1B,EAA6BiB,KAA7B;AACH;AACJ,CAPD","sourcesContent":["\r\nconst $originalHeader = $('.sticky-header');\r\nconst headerHeight = $originalHeader.outerHeight();\r\nlet $fixedClone = null;\r\nlet lastScroll = $(window).scrollTop();\r\n\r\nfunction createClone() {\r\n    $fixedClone = $originalHeader.clone().addClass('fixed-clone hidden').appendTo('body');\r\n    \r\n    const cloneMenu = $fixedClone.find('.menu')[0]; // get clone's menu\r\n    console.log(cloneMenu)\r\n    cloneMenu.addEventListener('click', () => {\r\n        const menuIsOpen = cloneMenu.classList.contains(\"open\");\r\n    \r\n        menuAnimation(cloneMenu);\r\n\r\n        if (!menuIsOpen) {\r\n            // Menu was closed, now opening\r\n            $fixedClone.addClass('sidebar-open');\r\n        } else {\r\n            // Menu was open, now closing\r\n            $fixedClone.removeClass('sidebar-open');\r\n        }\r\n    });\r\n}\r\n\r\nfunction removeClone() {\r\n    if ($fixedClone) {\r\n        $fixedClone.remove();\r\n        $fixedClone = null;\r\n    }\r\n}\r\n\r\n$(window).on('scroll', function() {\r\n    const currentScroll = $(this).scrollTop();\r\n\r\n    if (currentScroll > headerHeight) {\r\n        // Scroll past header height → show clone\r\n        if (!$fixedClone) {\r\n            createClone();\r\n        }\r\n\r\n        if (currentScroll > lastScroll) {\r\n            // Scrolling down → hide clone\r\n            if (!$fixedClone.hasClass('hidden')) {\r\n                $fixedClone.addClass('hidden');\r\n            }\r\n        } else {\r\n            // Scrolling up → show clone\r\n            if ($fixedClone.hasClass('hidden')) {\r\n                setTimeout(() => {\r\n                    $fixedClone.removeClass('hidden');\r\n                }, 20);\r\n            }\r\n        }\r\n    } else {\r\n        // Scroll at or below headerHeight\r\n        // Only remove clone if near top (≤ 1px) to allow smooth transition on scroll up near headerHeight\r\n        if (currentScroll <= 1) {\r\n            removeClone();\r\n        } \r\n        // Else keep clone visible if exists so it doesn't jump off immediately when scrolling up near headerHeight\r\n        else if ($fixedClone && $fixedClone.hasClass('hidden')) {\r\n            // If clone is hidden but scroll between 1 and headerHeight, show it for smoothness\r\n            $fixedClone.removeClass('hidden');\r\n        }\r\n    }\r\n\r\n    lastScroll = currentScroll;\r\n});\r\n\r\n\r\n// Had to move this from sidebar.js as cloneMenu isnt defined yet \r\nmainContent.addEventListener(\"click\", () => {\r\n    if (originalMenu.classList.contains(\"open\")) {\r\n        // Close the menu (simulate a click on the menu icon)\r\n        originalMenu.click();\r\n    } else if ($fixedClone && $fixedClone.find('.menu')[0].classList.contains(\"open\")) {\r\n        $fixedClone.find('.menu')[0].click();\r\n    }\r\n});"],"file":"stickyheader.dev.js"}