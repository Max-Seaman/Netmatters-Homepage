{"version":3,"sources":["stickyheader.js"],"names":["$originalHeader","$","outerHeight","headerHeight","$fixedClone","window","scrollTop","createClone","cloneMenu","clone","addClass","appendTo","find","console","log","addEventListener","classList","contains","menuAnimation","menuIsOpen","removeClass","removeClone","remove","on","currentScroll","this","lastScroll","hasClass","setTimeout","originalMenu","click"],"mappings":"aACA,IAAMA,gBAAkBC,EAAE,kBAApBD,aAAeA,gBAAKE,cACpBC,YAAY,KACdC,WAAWH,EAAGI,QAAlBC,YAGA,SAASC,cAGL,IAAMC,GAHVJ,YAASG,gBAAcE,QAAAC,SAAA,sBAAAC,SAAA,SAGDC,KAAiB,SAAa,GAChDC,QAAQC,IAAIN,GAAZK,EAAYL,iBAAZ,QAAA,WACAA,IAAUO,EAAAA,EAAVC,UAAoCC,SAAM,QAGtCC,cAAcV,GAETW,EAKDf,YAAYgB,YAAY,gBAHxBhB,YAAYM,SAAS,kBAQjC,SAASW,cACDjB,cACAA,YAAYkB,SACZlB,YAAA,MAIRH,EAAEI,QAAQkB,GAAG,SAAU,WACnB,IAAMC,EAAkBvB,EAADwB,MAAOnB,YAEVH,aAAhBqB,GAEKpB,aACDG,cAGgBmB,WAAhBF,EAEKpB,YAAYuB,SAAS,WACtBvB,YAAAM,SAAA,UAIAN,YAAYuB,SAAS,WACrBC,WAAW,WACPxB,YAAYgB,YAAZ,WADJ,KAQJI,GAAoB,EACpBH,cAIAjB,aAAAA,YAAAuB,SAAA,WAEHvB,YAAAgB,YAAA,UAOTM,WAAAF,IAIQK,YAAAA,iBAAA,QAAA,WAFJA,aAGWzB,UAAeA,SAAYQ,QAErCiB,aAAAC,QANL1B,aAAAA,YAAAQ,KAAA,SAAA,GAAAI,UAAAC,SAAA,SAKQb,YAAYQ,KAAK,SAAS,GAAGkB","file":"stickyheader.min.js","sourcesContent":["\r\nconst $originalHeader = $('.sticky-header');\r\nconst headerHeight = $originalHeader.outerHeight();\r\nlet $fixedClone = null;\r\nlet lastScroll = $(window).scrollTop();\r\n\r\nfunction createClone() {\r\n    $fixedClone = $originalHeader.clone().addClass('fixed-clone hidden').appendTo('body');\r\n    \r\n    const cloneMenu = $fixedClone.find('.menu')[0]; // get clone's menu\r\n    console.log(cloneMenu)\r\n    cloneMenu.addEventListener('click', () => {\r\n        const menuIsOpen = cloneMenu.classList.contains(\"open\");\r\n    \r\n        menuAnimation(cloneMenu);\r\n\r\n        if (!menuIsOpen) {\r\n            // Menu was closed, now opening\r\n            $fixedClone.addClass('sidebar-open');\r\n        } else {\r\n            // Menu was open, now closing\r\n            $fixedClone.removeClass('sidebar-open');\r\n        }\r\n    });\r\n}\r\n\r\nfunction removeClone() {\r\n    if ($fixedClone) {\r\n        $fixedClone.remove();\r\n        $fixedClone = null;\r\n    }\r\n}\r\n\r\n$(window).on('scroll', function() {\r\n    const currentScroll = $(this).scrollTop();\r\n\r\n    if (currentScroll > headerHeight) {\r\n        // Scroll past header height → show clone\r\n        if (!$fixedClone) {\r\n            createClone();\r\n        }\r\n\r\n        if (currentScroll > lastScroll) {\r\n            // Scrolling down → hide clone\r\n            if (!$fixedClone.hasClass('hidden')) {\r\n                $fixedClone.addClass('hidden');\r\n            }\r\n        } else {\r\n            // Scrolling up → show clone\r\n            if ($fixedClone.hasClass('hidden')) {\r\n                setTimeout(() => {\r\n                    $fixedClone.removeClass('hidden');\r\n                }, 20);\r\n            }\r\n        }\r\n    } else {\r\n        // Scroll at or below headerHeight\r\n        // Only remove clone if near top (≤ 1px) to allow smooth transition on scroll up near headerHeight\r\n        if (currentScroll <= 1) {\r\n            removeClone();\r\n        } \r\n        // Else keep clone visible if exists so it doesn't jump off immediately when scrolling up near headerHeight\r\n        else if ($fixedClone && $fixedClone.hasClass('hidden')) {\r\n            // If clone is hidden but scroll between 1 and headerHeight, show it for smoothness\r\n            $fixedClone.removeClass('hidden');\r\n        }\r\n    }\r\n\r\n    lastScroll = currentScroll;\r\n});\r\n\r\n\r\n// Had to move this from sidebar.js as cloneMenu isnt defined yet \r\nmainContent.addEventListener(\"click\", () => {\r\n    if (originalMenu.classList.contains(\"open\")) {\r\n        // Close the menu (simulate a click on the menu icon)\r\n        originalMenu.click();\r\n    } else if ($fixedClone && $fixedClone.find('.menu')[0].classList.contains(\"open\")) {\r\n        $fixedClone.find('.menu')[0].click();\r\n    }\r\n});"]}